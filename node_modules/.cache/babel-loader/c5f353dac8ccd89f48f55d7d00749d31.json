{"ast":null,"code":"var _jsxFileName = \"/Users/sballesteros/Documents/D-path/src/forms/MainForm.js\";\nimport React, { Component } from 'react';\nimport { Container, Jumbotron } from 'react-bootstrap';\nimport OrganizationForm from './OrganizationForm';\nimport DataProcessingForm from './DataProcessingForm';\nimport DataUsersForm from './DataUsersForm';\nimport DataDonorsForm from './DataDonorsForm';\nimport Success from './Success';\nimport InfoTable from './InfoTable';\nimport PersonalInfo from './PersonalInfo';\nimport UserInfo from './UserInfo';\nimport OtherUser from './OtherUser';\nimport { USER_TYPE, LOCATION } from '../constants';\nconst STEPS = [UserInfo, OrganizationForm, DataProcessingForm, DataUsersForm, DataDonorsForm, PersonalInfo, Success];\n\nfunction getLocations(answers) {\n  return Object.values(answers).filter(Boolean).filter(l => l !== LOCATION.NON_EU);\n}\n\nclass MainForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.nextStep = () => {\n      this.setState({\n        step: this.state.step + 1\n      });\n    };\n\n    this.prevStep = () => {\n      this.setState({\n        step: this.state.step - 1\n      });\n    };\n\n    this.handleLocChange = input => {\n      const {\n        answers\n      } = this.state;\n      this.setState({\n        answers: { ...answers,\n          [input.type]: input.location\n        }\n      });\n    };\n\n    this.handleInfoChange = input => {\n      this.setState({\n        isPersonalInfo: input\n      });\n    };\n\n    this.handleUserChange = userType => {\n      this.setState({\n        userType\n      });\n    };\n\n    this.getLocationComponent = () => {\n      const {\n        step,\n        userType\n      } = this.state;\n      if (userType && userType !== USER_TYPE.PROCESSOR) return OtherUser;\n      return STEPS[step];\n    };\n\n    this.state = {\n      step: 0,\n      userType: undefined,\n      isPersonalInfo: false,\n      answers: {\n        organisation: undefined,\n        dataProcessed: undefined,\n        dataUsers: undefined,\n        dataDonors: undefined\n      }\n    };\n  }\n\n  render() {\n    const {\n      userType,\n      answers,\n      isPersonalInfo\n    } = this.state;\n    const {\n      handleChange\n    } = this.props;\n    const Component = this.getLocationComponent();\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Jumbotron, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Component, {\n      nextStep: this.nextStep,\n      prevStep: this.prevStep,\n      handleLocChange: this.handleLocChange,\n      handleInfoChange: this.handleInfoChange,\n      handleUserChange: this.handleUserChange,\n      handleChange: handleChange,\n      locations: getLocations(answers),\n      userType: userType,\n      isPersonalInfo: isPersonalInfo,\n      answers: answers,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }\n    })), userType !== undefined && /*#__PURE__*/React.createElement(InfoTable, {\n      answers: answers,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    }));\n  }\n\n}\n\nexport default MainForm;","map":{"version":3,"sources":["/Users/sballesteros/Documents/D-path/src/forms/MainForm.js"],"names":["React","Component","Container","Jumbotron","OrganizationForm","DataProcessingForm","DataUsersForm","DataDonorsForm","Success","InfoTable","PersonalInfo","UserInfo","OtherUser","USER_TYPE","LOCATION","STEPS","getLocations","answers","Object","values","filter","Boolean","l","NON_EU","MainForm","constructor","props","nextStep","setState","step","state","prevStep","handleLocChange","input","type","location","handleInfoChange","isPersonalInfo","handleUserChange","userType","getLocationComponent","PROCESSOR","undefined","organisation","dataProcessed","dataUsers","dataDonors","render","handleChange"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Container, Jumbotron} from 'react-bootstrap';\n\nimport OrganizationForm from './OrganizationForm';\nimport DataProcessingForm from './DataProcessingForm';\nimport DataUsersForm from './DataUsersForm';\nimport DataDonorsForm from './DataDonorsForm';\nimport Success from './Success';\nimport InfoTable from './InfoTable';\nimport PersonalInfo from './PersonalInfo';\nimport UserInfo from './UserInfo';\nimport OtherUser from './OtherUser';\nimport { USER_TYPE, LOCATION } from '../constants';\n\nconst STEPS = [\n  UserInfo,\n  OrganizationForm,\n  DataProcessingForm,\n  DataUsersForm,\n  DataDonorsForm,\n  PersonalInfo,\n  Success,\n]\n\nfunction getLocations(answers) {\n  return Object.values(answers)\n    .filter(Boolean)\n    .filter(l => l !== LOCATION.NON_EU);\n}\n\nclass MainForm extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      step: 0,\n      userType: undefined,\n      isPersonalInfo: false,\n      answers: {\n        organisation: undefined,\n        dataProcessed: undefined,\n        dataUsers: undefined,\n        dataDonors: undefined,\n      }\n    }\n  }\n\n  nextStep = () => {\n    this.setState({ step: this.state.step + 1 });\n  }\n\n  prevStep = () => {\n    this.setState({ step: this.state.step - 1 });\n  }\n\n  handleLocChange = (input) => {\n    const { answers } = this.state;\n\n    this.setState({\n      answers: { ...answers, [input.type]: input.location },\n    });\n  }\n\n  handleInfoChange  = (input) => {\n    this.setState({\n      isPersonalInfo: input,\n    });\n  }\n\n  handleUserChange  = (userType) => {\n    this.setState({ userType });\n  }\n\n  getLocationComponent = () => {\n    const { step, userType } = this.state;\n\n    if (userType && userType !== USER_TYPE.PROCESSOR)\n      return OtherUser;\n\n    return STEPS[step];\n  }\n\n  render(){\n    const {\n      userType,\n      answers,\n      isPersonalInfo\n    } = this.state;\n    const { handleChange } = this.props;\n\n    const Component = this.getLocationComponent() ;\n\n    return(\n      <Container>\n        <Jumbotron>\n          <Component\n            nextStep={this.nextStep}\n            prevStep={this.prevStep}\n            handleLocChange={this.handleLocChange}\n            handleInfoChange={this.handleInfoChange}\n            handleUserChange={this.handleUserChange}\n            handleChange={handleChange}\n            locations= {getLocations(answers)}\n            userType={userType}\n            isPersonalInfo={isPersonalInfo}\n            answers={answers}\n          />\n        </Jumbotron>\n        {userType !== undefined &&\n          <InfoTable answers={answers} />\n        }\n      </Container>\n    )\n  }\n}\n\nexport default MainForm;\n"]},"metadata":{},"sourceType":"module"}