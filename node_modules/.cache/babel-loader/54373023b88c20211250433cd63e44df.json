{"ast":null,"code":"var _jsxFileName = \"/Users/sballesteros/Documents/D-path/src/forms/MainForm.js\";\nimport React, { Component } from 'react';\nimport { Container, Jumbotron } from 'react-bootstrap';\nimport OrganizationForm from './OrganizationForm';\nimport DataProcessingForm from './DataProcessingForm';\nimport DataUsersForm from './DataUsersForm';\nimport DataDonorsForm from './DataDonorsForm';\nimport Success from './Success';\nimport InfoTable from './InfoTable';\nimport PersonalInfo from './PersonalInfo';\nimport UserInfo from './UserInfo';\nimport OtherUser from './OtherUser';\n\nclass MainForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.nextStep = () => {\n      const {\n        step\n      } = this.state;\n      this.setState({\n        step: step + 1\n      });\n    };\n\n    this.prevStep = () => {\n      const {\n        step\n      } = this.state;\n      this.setState({\n        step: step - 1\n      });\n    };\n\n    this.handleLocChange = input => {\n      var {\n        data,\n        locations,\n        step\n      } = this.state;\n\n      for (var i in data) {\n        if (data[i].type == input.type) {\n          data[i] = {\n            type: input.type,\n            location: input.location,\n            print: input.print\n          };\n          this.setState({\n            data: data,\n            isLocationKnown: true,\n            currentForm: input.type\n          });\n        }\n      }\n    };\n\n    this.handleInfoChange = input => {\n      this.setState({\n        isPersonalInfo: input,\n        isInfoKnown: true\n      });\n    };\n\n    this.handleUserChange = input => {\n      this.setState({\n        userType: input.type,\n        isUserKnown: input.known\n      });\n    };\n\n    this.createLocationArray = () => {\n      const {\n        data\n      } = this.state;\n      var locations = [];\n      data.forEach(item => {\n        const loc = item.location;\n        if (!locations.includes(loc) && loc != 'Non-Europe') locations.push(loc);\n      });\n      this.setState({\n        locations: locations\n      });\n      console.log(locations);\n    };\n\n    this.getLocationComponent = () => {\n      const {\n        step\n      } = this.state;\n      var Form, currentForm;\n\n      switch (step) {\n        case 0:\n          Form = UserInfo;\n          currentForm = 'userType';\n          break;\n\n        case 1:\n          Form = OrganizationForm;\n          currentForm = 'organization';\n          break;\n\n        case 2:\n          Form = DataProcessingForm;\n          currentForm = 'dataProcessed';\n          break;\n\n        case 3:\n          Form = DataUsersForm;\n          currentForm = 'dataUsers';\n          break;\n\n        case 4:\n          Form = DataDonorsForm;\n          currentForm = 'dataDonors';\n          break;\n\n        case 5:\n          Form = PersonalInfo;\n          currentForm = 'personalInfo';\n          break;\n\n        case 6:\n          Form = Success;\n          currentForm = 'sucess';\n          break;\n      }\n\n      return Form;\n    };\n\n    this.state = {\n      step: 0,\n      isUserKnown: false,\n      userType: '',\n      isInfoKnown: false,\n      isPersonalInfo: false,\n      locations: [],\n      currentForm: 'organization',\n      data: [{\n        type: 'organization',\n        print: 'Where is the organization?',\n        location: ''\n      }, {\n        type: 'dataProcessed',\n        print: 'Where is the data processed?',\n        location: ''\n      }, {\n        type: 'dataUsers',\n        print: 'Where are the data users?',\n        location: ''\n      }, {\n        type: 'dataDonors',\n        print: 'Where are the data donors?',\n        location: ''\n      }]\n    };\n  }\n\n  render() {\n    const {\n      step,\n      isUserKnown,\n      userType,\n      data,\n      locations,\n      isPersonalInfo\n    } = this.state;\n    const Component = isUserKnown && userType != 'processor' ? OtherUser : this.getLocationComponent();\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Jumbotron, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Component, {\n      nextStep: this.nextStep,\n      prevStep: this.prevStep,\n      handleLocChange: this.handleLocChange,\n      handleInfoChange: this.handleInfoChange,\n      handleUserChange: this.handleUserChange,\n      createArray: this.createLocationArray,\n      locations: locations,\n      currentForm: currentForm,\n      userType: userType,\n      isPersonalInfo: isPersonalInfo,\n      data: data,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(InfoTable, {\n      values: data,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }\n    })));\n  }\n\n}\n\nexport default MainForm;","map":{"version":3,"sources":["/Users/sballesteros/Documents/D-path/src/forms/MainForm.js"],"names":["React","Component","Container","Jumbotron","OrganizationForm","DataProcessingForm","DataUsersForm","DataDonorsForm","Success","InfoTable","PersonalInfo","UserInfo","OtherUser","MainForm","constructor","props","nextStep","step","state","setState","prevStep","handleLocChange","input","data","locations","i","type","location","print","isLocationKnown","currentForm","handleInfoChange","isPersonalInfo","isInfoKnown","handleUserChange","userType","isUserKnown","known","createLocationArray","forEach","item","loc","includes","push","console","log","getLocationComponent","Form","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Container, Jumbotron} from 'react-bootstrap';\n\nimport OrganizationForm from './OrganizationForm';\nimport DataProcessingForm from './DataProcessingForm';\nimport DataUsersForm from './DataUsersForm';\nimport DataDonorsForm from './DataDonorsForm';\nimport Success from './Success';\nimport InfoTable from './InfoTable';\nimport PersonalInfo from './PersonalInfo';\nimport UserInfo from './UserInfo';\nimport OtherUser from './OtherUser';\n\nclass MainForm extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            step: 0,\n            isUserKnown: false,\n            userType: '',\n            isInfoKnown: false,\n            isPersonalInfo: false,\n            locations: [],\n            currentForm: 'organization',\n            data: [\n              { type: 'organization',\n                print: 'Where is the organization?',\n                location: '',\n               },\n              { type: 'dataProcessed',\n                print: 'Where is the data processed?',\n                location: '',\n              },\n              { type: 'dataUsers',\n                print: 'Where are the data users?',\n                location: '',\n              },\n              {\n                type: 'dataDonors',\n                print: 'Where are the data donors?',\n                location: '',\n              },\n            ]\n        }\n    }\n\n    nextStep = () => {\n        const { step } = this.state;\n        this.setState({\n            step : step + 1\n        });\n    }\n\n    prevStep = () => {\n      const { step } = this.state;\n        this.setState({\n            step : step - 1\n        });\n    }\n\n    handleLocChange = (input) => {\n      var { data, locations, step } = this.state;\n      for (var i in data) {\n         if (data[i].type == input.type) {\n           data[i] = {\n                type:input.type,\n                location: input.location,\n                print:input.print,\n            }\n            this.setState({\n              data : data,\n              isLocationKnown: true,\n              currentForm: input.type\n            });\n         }\n      }\n    }\n\n    handleInfoChange  = (input) => {\n      this.setState({\n        isPersonalInfo: input,\n        isInfoKnown: true\n      });\n    }\n\n    handleUserChange  = (input) => {\n      this.setState({\n        userType: input.type,\n        isUserKnown: input.known\n      });\n    }\n\n    createLocationArray = () => {\n      const { data } = this.state;\n      var locations = [];\n      data.forEach(item => {\n        const loc = item.location;\n        if((!locations.includes(loc)) && loc != 'Non-Europe') locations.push(loc);\n      });\n      this.setState({ locations: locations });\n      console.log(locations);\n    }\n\n    getLocationComponent = () => {\n      const { step } = this.state;\n      var Form, currentForm;\n      switch(step) {\n      case 0:\n          Form = UserInfo;\n          currentForm = 'userType';\n          break;\n      case 1:\n          Form = OrganizationForm;\n          currentForm = 'organization';\n          break;\n      case 2:\n          Form = DataProcessingForm;\n          currentForm = 'dataProcessed';\n          break;\n      case 3:\n          Form = DataUsersForm;\n          currentForm = 'dataUsers';\n          break;\n      case 4:\n          Form = DataDonorsForm;\n          currentForm = 'dataDonors';\n          break;\n      case 5:\n          Form = PersonalInfo;\n          currentForm = 'personalInfo';\n          break;\n      case 6:\n          Form = Success;\n          currentForm = 'sucess';\n          break;\n      }\n      return Form;\n    }\n\n    render(){\n        const {step, isUserKnown, userType, data, locations, isPersonalInfo} = this.state;\n        const Component = (isUserKnown && userType != 'processor') ? OtherUser :this.getLocationComponent() ;\n        return(\n        <Container>\n          <div>\n            <Jumbotron>\n              <Component\n                nextStep={this.nextStep}\n                prevStep={this.prevStep}\n                handleLocChange={this.handleLocChange}\n                handleInfoChange={this.handleInfoChange}\n                handleUserChange={this.handleUserChange}\n                createArray={this.createLocationArray}\n                locations= {locations}\n                currentForm={currentForm}\n                userType={userType}\n                isPersonalInfo={isPersonalInfo}\n                data={data}\n              />\n            </Jumbotron>\n            <InfoTable values={data}/>\n          </div>\n        </Container>)\n    }\n}\n\nexport default MainForm;\n"]},"metadata":{},"sourceType":"module"}